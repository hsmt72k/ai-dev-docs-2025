---
title: 04. Basic Home Page
description: 基本的なホーム画面
icon: Rocket
---

## Next.js App Directory の基本的な使い方

Next.js には App Directory という仕組みがある（バージョン 13 以降）。

Next.jsの App Directory（src/app/）を使用することで、ページのルーティングを簡単に、より直感的に構成できるようになった。

画面の構築を通して App Directory の仕組みについて理解を深めていく。

### RootLayout の設定

まず、アプリケーションのレイアウトを修正する。
このレイアウトでは、`src/app/layout.tsx` にグローバルな設定を追加して、背景色やフォントなどのスタイルを適用する。

cn() 関数は、`shadcn init` 実行時に生成される関数である。
cn() 関数の役割は、CSS クラスを結合するために使われる。

```diff title="src/app/layout.tsx"
 import { Host_Grotesk, Noto_Sans_JP } from 'next/font/google';

+import { cn } from '@/lib/utils';
+
 import type { Metadata } from 'next';
+
 import './globals.css';

 const notoSansJp = Noto_Sans_JP({
   variable: '--font-noto-sans-jp',
   subsets: ['latin'],
   weight: ['400', '500', '700'],
   display: 'swap',
   preload: false,
 });

 const host_Grotesk = Host_Grotesk({
   subsets: ['latin'],
 });

 export const metadata: Metadata = {
   title: 'Create Next App',
   description: 'Generated by create next app',
 };

 export default function RootLayout({
   children,
 }: Readonly<{
   children: React.ReactNode;
 }>) {
   return (
     <html lang="ja">
       <body
-        className={`${notoSansJp.variable} ${host_Grotesk.className} antialiased font-noto-sans-jp`}
+        className={cn(
+          `${notoSansJp.variable} ${host_Grotesk.className} antialiased font-noto-sans-jp`,
+          'bg-gradient-to-r from-purple-700/60 to-blue-500/90 max-w-7xl mx-auto',
+        )}
       >
+        <main className="p-8 pt-4 bg-slate-50/50 shadow-2xl drop-shadow-2xl">
           {children}
+        </main>
       </body>
     </html>
   );
 }
```

![](/hands-on/02-movie-recommendations-app/04_basic_home_page/modified_root_layout_backgrounds.png)

### MoviePoster コンポーネント

次に、映画のポスターを表示するためのコンポーネントを作成する。
これにより、映画のタイトルやジャンル、類似映画の評価などが表示できるようになる。

```bash title="Terminal"
touch ./src/components/movie-poster.tsx
```

```tsx title="src/components/movie-poster.tsx"
import Image from 'next/image';
import Link from 'next/link';

import { Movie, SimilarMovie } from '@/types';

function MoviePoster({
  index,
  similarityRating,
  movie,
}: {
  index?: number;
  similarityRating?: number;
  movie: Movie | SimilarMovie;
}) {
  return (
    <Link
      key={movie._id}
      href={`/movie/${movie._id}`}
      className="flex flex-col items-center justify-center"
    >
      <div>
        <Image
          width={300}
          height={450}
          src={movie.Poster}
          alt={movie.Title}
          className="min-w-64 max-w-64 object-contain rounded-lg shadow-lg"
        />
      </div>
      <div className="relative">
        {similarityRating && (
          <div className="absolute w-14 h-14 flex items-center justify-center bottom-0 right-0 bg-orange-300 bg-opacity-90 p-2 rounded-full m-5 font-bold">
            {similarityRating}%
          </div>
        )}

        {index && (
          <div className="absolute text-gray-100 top-18 -left-4 text-6xl font-extrabold drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)]">
            {index}
          </div>
        )}
      </div>

      <div className="px-4 py-2">
        <p className="text-lg font-semibold line-clamp-1 w-64">
          {movie.Title}
        </p>
        <p className="text-gray-500 line-clamp-1">{movie.Genre}</p>
      </div>
    </Link>
  );
}

export default MoviePoster;
```

### Home ページの設定

次に、`src/app/page.tsx` に映画のポスターが表示されるように、
`src/app/page.tsx` を以下の内容に書き換える。

画面サイズに応じて、グリッドが自動的に調整されるようにする。

```tsx title="src/app/page.tsx"
import MoviePoster from '@/components/movie-poster';
import { mockMovies } from '@/data/movie-mock-data';

export default function Home() {
  return (
    <div className="flex items-center justify-center pb-24 pt-12">
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">
        {mockMovies.map((movie) => (
          <MoviePoster
            key={movie._id}
            movie={movie}
          />
        ))}
      </div>
    </div>
  );
}
```

![](/hands-on/02-movie-recommendations-app/04_basic_home_page/modified_home_page.png)

画面サイズを大きくしたり、小さくしたりして、画面サイズに合わせたグリッドサイズになることを確認する。

- **md :** 画面サイズが小さい時: グリッドが２列表示
- **lg :** 画面サイズが標準: グリッドが３列表示
- **xl :** 画面サイズが大きい時: グリッドが４列表示

![](/hands-on/02-movie-recommendations-app/04_basic_home_page/xl_size_of_modified_home_page.png)

コミットを行う。

```shell title="Terminal"
git add .
git commit -m '04. Basic Home Page'
git push
```
