---
title: 09. Setup OpenAI Embeddings
description: OpenAI Embeddings のセットアップ
icon: Rocket
---

## OpenAI Embeddings の設定

import { Step, Steps } from 'fumadocs-ui/components/steps';

<Steps>
<Step>

#### 1. OpenAI アカウントにログイン

OpenAI アカウントにログインします。

OpenAI developer platform<br />
https://platform.openai.com/docs/overview

</Step>

<Step>

#### 2. API Keys セクションに移動

ヘッダにある Settings アイコンをクリックします。

![](/hands-on/02-movie-recommendations-app/09_setup_open_ai_embeddings/openai_click_settings_icon_in_header.png)

Settings セクションで、左サイドバーにある「API keys」を選択します。

![](/hands-on/02-movie-recommendations-app/09_setup_open_ai_embeddings/openai_select_api_keys_in_sidebar_menu.png)

</Step>

<Step>

#### 3. 新しい API キーを作成

「+ Create new secret key」をクリックします。

![](/hands-on/02-movie-recommendations-app/09_setup_open_ai_embeddings/openai_click_create_new_secret_key_button.png)

名前（例: `"movie-recommendation-ai-2025-04"`）を入力します。

プロジェクトを選択します（例: `Default project` を選択）。

必要に応じて制限を追加します（例: `All` を選択）。

すべて入力、選択ができたら、「Create secret key」ボタンをクリックします。

![](/hands-on/02-movie-recommendations-app/09_setup_open_ai_embeddings/openai_submit_create_secret_key_button.png)

</Step>

<Step>

#### 4. API キーをコピー

作成された API キーはこのタイミングでしか確認できないため、必ずコピーして安全な場所に保存してください。

![](/hands-on/02-movie-recommendations-app/09_setup_open_ai_embeddings/openai_copy_generated_api_key.png)

</Step>
</Steps>

### 2. プロジェクトの環境変数に適用

<Steps>
<Step>

#### 1. `.env.local` ファイルの作成

まだプロジェクトに、`.env.local` ファイルがないので、まずは `.env.local` ファイルを作成します。

```bash title="Terminal"
touch ./.env.local
```

</Step>

<Step>

#### 2. OpenAI API キーの貼り付け

コピーした OpenAI API キーを、`.env.local` ファイルに `OPENAI_API_KEY` の値として貼り付けます。

```txt title=".env.local"
OPENAI_API_KEY=****
```

</Step>
</Steps>

### 3. Astra DB との統合

<Steps>
<Step>

#### 1. 統合（Integrations）セクションに移動

ヘッダにある「Settings」をクリックします。

![](/hands-on/02-movie-recommendations-app/08_setup_astra_db/data_stax_click_settings_button_in_header.png)

Settings 画面の左サイドバーメニューにある、「Integrations」をクリックします。

![](/hands-on/02-movie-recommendations-app/08_setup_astra_db/data_stax_click_integrations_in_settings_sidebar_menu.png)

</Step>

<Step>

#### 2. OpenAI の Integration を選択

OpenAI Embeddings との統合を選択します。

![](/hands-on/02-movie-recommendations-app/08_setup_astra_db/data_stax_select_openai_integration.png)

</Step>

<Step>

#### 2. OpenAI 統合を追加

「Add Integration」をクリックします。

![](/hands-on/02-movie-recommendations-app/08_setup_astra_db/data_stax_submit_add_integration_button_for_openai.png)

以下の内容を入力します。

- **APIキー名**: API キーを識別するための名前（例: "movie-recommendation-ai-2025-04"）
- **APIキーの値**: OpenAI から取得した API キー
- **データベースの選択**: 統合するデータベース（例: "movie-recommendation-ai-2025-04"）を選択します。最大10個までデータベースを追加可能です

すべて入力、選択ができたら、「Add Integration」ボタンをクリックします。

![](/hands-on/02-movie-recommendations-app/09_setup_open_ai_embeddings/data_stax_submit_add_integration_button_in_modal.png)

</Step>

<Step>

#### 3. 統合の完了

「Add Integration」をクリックすると、統合が有効になり、選択したデータベースと API キーがリンクされます。

</Step>
</Steps>

統合が完了すると、新しいデータベースが API キーとリンクされます。
これにより、データベースにデータを登録する際に、自動的にデータがベクトル埋め込みデータ化されます。

### まとめ

OpenAI Embeddings と Astra DB の統合は非常に簡単です。
API キーの取得から統合設定まで数ステップで完了し、生成 AI アプリケーションで必要なベクトル化されたデータ管理が可能になります。
この仕組みは映画プロットなどの検索や推薦システム構築にも役立ちます。
